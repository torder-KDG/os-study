### **스레드란 무엇인가?**
<hr>

- 스레드란 프로세스의 기본 실행 단위입니다. 프로세스는 운영체제로부터 자원을 할당받고, 스레드는 자원을 할당받은 프로세스가 이 자원을 사용하여 실행하는 기본 실행 단위입니다.
- 스레드는 레지스터, 프로그램 카운터(PC), 스택을 가지고 있으며, 동일한 프로세스 내에 있는 다른 스레드와 메모리를 공유합니다.

<br>

### **병행성과 병렬성**
<hr>

#### **병행성**

- 병행성은 동시성이라 표현하기도 합니다.
- 사실 스레드들을 동시에 실행하는 것처람 보이지만 실은 context-switch를 통해 동시에 실행하는 것처럼 보이게하는 것입니다.

#### **병렬성**

- 병렬성은 실제로 동시에 실행하는 것을 의미합니다.
- 병렬성은 데이터 병렬성과 작업 병렬성으로 구분할 수 있습니다.

##### **데이터 병렬성**

- 데이터 병렬설이란 예를들어 크기가 N인 배열이 있다 가정합니다. 이 배열의 합을 구할때 쪼갤 수 없을때까지 하위 태스크로 분할 후 병렬 처리를 한 뒤 다시 취합하는 것입니다.
- 자바 8에서 지원하는 병렬 스트림이 데이터 병렬성을 구현한 것입니다. 자바에서 대표적으로 Fork Join이 있습니다.

##### **작업 병렬성**

- 작업 병렬성이란 서로 다른 작업을 병렬적으로 처리하는 것입니다.
- 예를들어 웹 서버는 각각의 브라우저에서 요청한 내용을 개별 스레드에서 병렬적으로 처리합니다.

<br>

### **다중 스레드 모델이란 무엇인가?**
<hr>

- 스레드를 위한 자원은 사용자 스레드와 커널 스레드가 있습니다. 
- 사용자 스레드는 사용자 모드에서 지원되며, 커널의 지원없이 스레드 라이브러리에 의해 관리됩니다.
- 커널 스레드는 운영체제에 의해 직접 관리됩니다.


#### **사용자 수준 스레드**

- 사용자 수준 스레드는 스레드를 관리하는 라이브러리로 인해 사용자단에서 생성 및 관리되는 스레드입니다. 그렇기 때문에 커널이 관리하지 않고, 커널은 이 스레드에 대해 알지 못합니다.
- 여기서 하나의 사용자 스레드가 동기 시스템 콜을 호출할 경우 전체 프로세스가 블로킹됩니다. 또한 한 번에 하나의 스레드만이 커널 스레드에 접근할 수 있으므로 다중 스레드가 다중 코어 시스템에서 병렬로 실행될 수 없습니다.
- 예를들어 입출력 인터럽트가 발생하면 커널은 사용자 모드가 되어 사용자 수준 스레드의 응답을 기다리게 됩니다. 이때 사용자 수준 스레드로부터 응답이 오면 다시 커널 모드로 변환하여 이어서 커널 스레드가 일을 처리하게 됩니다.

![스크린샷 2023-03-08 오후 10 30 02](https://user-images.githubusercontent.com/107396231/223725742-a1c85544-de6d-4231-aec2-ce2cdbefe11d.png)


#### **커널 수준 스레드**

- 커널 수준 스레드는 사용자 스레드를 각각의 하나의 커널 스레드와 매칭하는 것입니다. 
- 여기서는 사용자 스레드가 동기 시스템 콜을 호출하더라도 다른 스레드가 실행될 수 있기때문에 사용자 수준 스레드보다 더 많은 병렬성을 지원할 수 있습니다.
- 하지만 커널 수준 스레드의 단점은 사용자 스레드에 맞물리는 커널 스레드를 만들어야 하기 때문에 커널 스레드의 수가 많아진다면 시스템 성능에 부담을 줄 수 있습니다.

![스크린샷 2023-03-08 오후 10 32 42](https://user-images.githubusercontent.com/107396231/223726290-4817f11d-025d-406a-92b8-29c90dea9c5f.png)


#### **다대다 모델 스레드**

- 다대다 모델은 여러개의 사용자 수준 스레드를 그보다 작은 수, 혹은 같은 수의 커널 스레드로 멀티 플렉스 합니다.
- 이때 커널 스레드의 수는 응용 프로그램이나 특정 기계에 의해 결정되게 됩니다.
- 다대다 모델 또는 두 수준 모델을 구현하는 많은 시스템은 사용자 수준 스레드와 커널 수준 스레드 사이에 중간 자료 구조를 둡니다. 이 구조를 경량 프로세스라 합니다.
- 또한 입출력이 완료되길 기다리는 동안 커널 수준 스레드가 블락킹되면 경략 프로세스도 같이 블락킹됩니다. 이때 경량 프로세스에 소속된 사용자 수준 스레드 역시 블락킹됩니다.

![스크린샷 2023-03-08 오후 10 35 42](https://user-images.githubusercontent.com/107396231/223726843-ed0bf119-5bf3-4463-a2ed-b0ff796baeab.png)

<br>

### **암묵적 스레딩이란 무엇인가?**
<hr>

- 암묵적 스레딩이란 스레드의 생성과 관리 책임을 응용 개발자로부터 컴파일러와 실행시간 라이브러리에게 넘겨주는 것입니다.


#### **스레드 풀이란?**

- 스레드 풀은 작업 처리에 사용되는 스레드를 제한된 개수만큼 생성해 놓고, 작업 큐에 들어온 작업들에 대해 하나의 스레드가 맡아서 처리하는 기법입니다. 
작업을 완료한 스레드는 종료되지 않고 다시 스레드 풀로 되돌아와 다음 작업을 하기까지 기다리게 됩니다.

<br>

### **질문**


#### **프로세스와 스레드의 차이점이 무엇인가?**
 <details>
<summary>나의 답변</summary>

> 프로세스는 운영체제로부터 자원을 할당받는 것이고, 스레드는 자원을 할당받은 프로세스가 실행하는 기본 실행 단위입니다.

</details>

<br>


#### **스레드마다 스택이 독립적으로 할당되어 있는 이유가 무엇인가?**
 <details>
<summary>나의 답변</summary>

> 우선 스택이라 함은 함수의 지역변수, 매개변수, 반환 주소를 가지고 있습니다.
  
> 첫째, 스레드 안전성입니다. 각각의 스레드는 다른 스레드들에 의해 덮어 쓰여지지 않도록 각자 자체 스택을 가지고 있습니다. 만약 모든 스레드들이 동일한 스택을 갖는다면 스택이 가지고 있는
데이터에 대해 안전성을 보장하기 어렵고, 데이터 손상을 방지하기 어렵습니다.
  
> 둘째, 효율성입니다. 모든 스레드들이 공유 스택을 가진다면 잠금 및 동기화 매커니즘이 필수입니다. 하지만 독립적으로 존재한다면 이러한 내용이 필요없어지므로 효율적입니다.

</details>

<br>


#### **스레드마다 레지스터가 독립적으로 할당되어 있는 이유가 무엇인가?**
 <details>
<summary>나의 답변</summary>

> 우선 레지스터란 프로그램 실행 중에 중간값과 피연산자를 저장하는데 사용되는 CPU 내에 있는 메모리 공간입니다. 스레드는 레지스터 값을 저장하기 위해 각 스레드마다 고유한 레지스터가 있습니다.
이 또한 이유는 위의 질문에 대한 답변과 동일합니다.

</details>

<br>


#### **스레드마다 프로그램 카운터가 독립적으로 할당되어 있는 이유가 무엇인가?**
 <details>
<summary>나의 답변</summary>

> 프로그램 카운터는 실행중이던 스레드가 인터럽트에 의해 다시 준비큐에 있다가 재실행될 때 다음에 실행되어야할 명령어를 담고 있는 값입니다.

> 첫째, 스레드 안전성입니다. 각 스레드는 다른 스레드에 의해 PC 값이 영향 받지 않게끔 하기 위해 자체 프로그램 카운터가 필요합니다. 만약 이를 공유하면 안전성과 데이터 손실에 대한 우려가 있습니다.

> 둘째, 제어 흐름을 관리하기 위함입니다. 각 스레드는 올바른 명령어를 실행하기 위해 자체 프로그램 카운터를 관리해야 하는데 만약 여러 스레드가 동일한 
프로그램 카운터를 공유하여 동일한 명령어를 실행하게된다면 큰 문제로 이어질 수 있습니다.

</details>

<br>


#### **스레드의 장점이 무엇인가?**
 <details>
<summary>나의 답변</summary>

> 첫째, 자원 공유입니다. 프로세스는 공유 메모리와 메시지 전달 기법을 통해 자원을 공유할 수 있습니다. 그러나 스레드는 하나의 프로세스 내에 있는 모든
스레드들과 메모리를 공유할 수 있기 때문에 자원을 효과적으로 사용하고 오버헤드를 줄일 수 있습니다.

> 둘째, 경제성입니다. 보통 프로세스를 생성하기 위해서는 운영체제로부터 자원을 할당받는데 이는 비용이 많이 듭니다. 하지만 스레드는 자신이 속한
프로세스의 자원을 공유하기 때문에 스레드를 생성하고 context-switch 하는 작업이 더욱 더 경제적입니다.

</details>

<br>


#### **커널에는 사용자모드와 커널모드가 있는데 무슨 차이점이 있을까?**
 <details>
<summary>나의 답변</summary>

> ...

</details>

<br>


#### **자바에서 Thread와 Runnable 인터페이스는 무슨 차이점이 있을까?**
 <details>
<summary>나의 답변</summary>

> ...

</details>

<br>


#### **스레드 풀을 사용하는 이유가 무엇일까?**
 <details>
<summary>나의 답변</summary>

> ...

</details>

<br>


#### **데몬 스레드란 무엇인가?**
 <details>
<summary>나의 답변</summary>

> ...

</details>

<br>



